# 面试总结

2023-07-07

特易资讯

工作中遇到的困难、工作中最有成就感的事、职业规划、自驱力强体现在哪里、配得上28k吗，哈哈哈

场景题：

1. 如果在内存中有一百万条数据，每条有姓名、性别、年龄，怎么快速得出：每个年龄的人数；

我的回答：

- 起10个线程，第一个从0-10万，第二个10万到20万，以此类推，分别求和，最后在主线程中聚合

- 面试官反问：那这样不还得先分组吗，分组不是也要时间吗？未答出，被打断

- 我的思路还有，每个线程 管10岁 起10几个线程分别计数这种，但没想好怎么搞

兴哥意见：

- 感觉出得没头没脑的，数据存在哪里（文件（excel、csv、普通文本）、本地内存、缓存），以什么格式存，是否需要解压缩、行与行之间以什么分隔，属性与属性之间如何分隔，是否涉及到编解码；
- 可以先反问一波，把他问懵
- 也有可能考察网络IO，手撕

2. 如果数据库里有一百万条数据，在一张表中，分别是30万条邮件、30万条短信、40万条微信，怎么快速的分发到100万用户手里

我的回答：

- 起3个线程，分别读取邮件、短信、微信的内容，每次读取5万条，写到三个MQ topic中，然后消费者消费

- 面试官反问：还有其他的方式吗。答：无

兴哥意见：

- 我觉得没啥问题，分线程，每个线程批量读取，MySQL 一次一千把，记录每次读取的最大id，下次读取以 id 为条件，这样可以避免回表。也没必要每种类型都搞一个 topic， 加tag， 用 tag 过滤



2023-07-11

邻汇吧

- 线程池参数
- 线程池构造过程
- ThreadLocal
- 悲观锁 & 乐观锁
- 锁升级
- mysql索引数据结构
- B+树和B树在数据结构上的区别
- 隔离级别
- 挑一个项目讲讲：库存变更-如何保证事务
- redis数据类型
- redis为什么是单线程的但很快
- redis做分布式锁的设计方案
- springboot自动装配原理
- SpringIoC容器的作用











